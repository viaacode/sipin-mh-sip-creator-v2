import json
from app.helpers.dummy_sip import f
from sippy.objects import (
    IntellectualEntity,
)
from app.helpers.template import generate_mets_from_sip


graph_string = "{\"@context\": {\"@base\": \"https://www.data.hetarchief.be/id/.well-known/genid/\", \"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\", \"xsd\": \"http://www.w3.org/2001/XMLSchema#\", \"edtf\": \"http://id.loc.gov/datatypes/edtf/\", \"prov\": \"http://www.w3.org/ns/prov#\", \"skos\": \"http://www.w3.org/2004/02/skos/core#\", \"dct\": \"http://purl.org/dc/terms/\", \"rel\": \"http://id.loc.gov/vocabulary/preservation/relationshipSubType/\", \"ebucore\": \"http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#\", \"premis\": \"http://www.loc.gov/premis/rdf/v3/\", \"schema\": \"https://schema.org/\", \"org\": \"http://www.w3.org/ns/org#\", \"cryptoHash\": \"http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions/\", \"haDes\": \"https://data.hetarchief.be/ns/description/\", \"haObj\": \"https://data.hetarchief.be/ns/object/\", \"haOrg\": \"https://data.hetarchief.be/ns/organization/\", \"evtAgRole\": \"http://id.loc.gov/vocabulary/preservation/eventRelatedAgentRole/\", \"evtObjRole\": \"http://id.loc.gov/vocabulary/preservation/eventRelatedObjectRole/\"}, \"@graph\": [{\"@type\":\"premis:IntellectualEntity\",\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\",\"rel:isr\":[{\"@type\":\"haObj:DigitalRepresentation\",\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\",\"rel:rep\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Digital Representation\"}],\"rel:inc\":[{\"@type\":\"premis:File\",\"@id\":\"uuid-7df1ed59-40dd-4323-83c9-e730615eea34\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"File\"}],\"rel:isi\":[{\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\"}],\"premis:size\":{\"@type\":\"xsd:nonNegativeInteger\",\"@value\":\"6255\"},\"premis:originalName\":\"master_dummy.mkv\",\"premis:fixity\":{\"@type\":\"http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions/md5\",\"@id\":\"uuid-a549c372-1c17-404c-bcb4-df1c463f9718\",\"dct:creator\":[],\"rdf:value\":\"a427d6f9dcf9d4db5145dc159fef7727\"},\"dct:format\":{\"@type\":\"dct:FileFormat\",\"@id\":\"https://www.nationalarchives.gov.uk/pronom/fmt/569\"}}],\"haObj:isMasterCopyOf\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"}},{\"@type\":\"haObj:DigitalRepresentation\",\"@id\":\"uuid-ed415625-bc4b-4ecc-b220-9c9d4400bde8\",\"rel:rep\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Digital Representation\"}],\"rel:inc\":[{\"@type\":\"premis:File\",\"@id\":\"uuid-b8e8db68-296b-4025-9dad-df966fe05b70\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"File\"}],\"rel:isi\":[{\"@id\":\"uuid-ed415625-bc4b-4ecc-b220-9c9d4400bde8\"}],\"premis:size\":{\"@type\":\"xsd:nonNegativeInteger\",\"@value\":\"52574\"},\"premis:originalName\":\"mezzanine_dummy.mov\",\"premis:fixity\":{\"@type\":\"http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions/md5\",\"@id\":\"uuid-453cef7f-0133-4b6d-b4a8-d817be2336d5\",\"dct:creator\":[],\"rdf:value\":\"04c2f9a43c2aa4d6f6975903bad69a67\"},\"dct:format\":{\"@type\":\"dct:FileFormat\",\"@id\":\"https://www.nationalarchives.gov.uk/pronom/x-fmt/384\"}}],\"haObj:isMezzanineCopyOf\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"}},{\"@type\":\"haObj:DigitalRepresentation\",\"@id\":\"uuid-d55d9a49-ac38-4849-8262-f978d36a3a24\",\"rel:rep\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Digital Representation\"}],\"rel:inc\":[{\"@type\":\"premis:File\",\"@id\":\"uuid-9e74d34e-f2ec-483f-b144-47f63307ecbe\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"File\"}],\"rel:isi\":[{\"@id\":\"uuid-d55d9a49-ac38-4849-8262-f978d36a3a24\"}],\"premis:size\":{\"@type\":\"xsd:nonNegativeInteger\",\"@value\":\"19933\"},\"premis:originalName\":\"meemoo_voorbeeld.pdf\",\"premis:fixity\":{\"@type\":\"http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions/md5\",\"@id\":\"uuid-8ca3d7ee-b156-4e59-8755-c739eadc9c5c\",\"dct:creator\":[],\"rdf:value\":\"b0dfa6f04e6056ecd953a2ad127820e3\"},\"dct:format\":{\"@type\":\"dct:FileFormat\",\"@id\":\"https://www.nationalarchives.gov.uk/pronom/fmt/18\"}}]},{\"@type\":\"haObj:DigitalRepresentation\",\"@id\":\"uuid-e2be2807-ba06-45a9-890d-4d275145aa9e\",\"rel:rep\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Digital Representation\"}],\"rel:inc\":[{\"@type\":\"premis:File\",\"@id\":\"uuid-75d336db-603d-4795-b6cc-30bd7c583f8c\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"File\"}],\"rel:isi\":[{\"@id\":\"uuid-e2be2807-ba06-45a9-890d-4d275145aa9e\"}],\"premis:size\":{\"@type\":\"xsd:nonNegativeInteger\",\"@value\":\"5913\"},\"premis:originalName\":\"dummy.jpg\",\"premis:fixity\":{\"@type\":\"http://id.loc.gov/vocabulary/preservation/cryptographicHashFunctions/md5\",\"@id\":\"uuid-a6a44c4c-29cd-4f2e-8b82-28172d97abcf\",\"dct:creator\":[],\"rdf:value\":\"b14d633a01600edabc450a0d0ae4390d\"},\"dct:format\":{\"@type\":\"dct:FileFormat\",\"@id\":\"https://www.nationalarchives.gov.uk/pronom/fmt/43\"}}]},{\"@type\":\"haObj:CarrierRepresentation\",\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\",\"rel:rep\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Carrier Representation\"}],\"premis:storedAt\":[],\"haObj:isCarrierCopyOf\":{\"@id\":\"uuid-f9ef158c-f03c-4840-836e-8ffb8e8ebe04\"}}],\"rel:hsp\":[],\"rel:isp\":[],\"premis:relationship\":[],\"haObj:hasMasterCopy\":[{\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\"}],\"haObj:hasMezzanineCopy\":[{\"@id\":\"uuid-ed415625-bc4b-4ecc-b220-9c9d4400bde8\"}],\"haObj:hasAccesCopy\":[],\"haObj:hasTranscriptionCopy\":[],\"haObj:hasCarrierCopy\":{\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\"},\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Katten in de tuin\"}],\"schema:maintainer\":{\"@type\":\"haOrg:ContentPartner\",\"@id\":\"uuid-8085c50f-6d51-43c7-8b5c-09b704edb55d\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"archival creator\"}],\"org:identifier\":\"OR-g15td99\"},\"dct:format\":{\"@type\":\"xsd:string\",\"@value\":\"film\"},\"schema:dateCreated\":{\"@type\":\"edtf:EDTF-level1\",\"@value\":\"XXXX-XX-XX\"},\"schema:identifier\":\"kiodik2z9x\",\"haObj:primaryIdentifier\":[{\"@type\":\"haObj:LocalIdentifier\",\"rdf:value\":\"2891#422\"}],\"premis:identifier\":[],\"schema:alternateName\":[[{\"@language\":\"nl\",\"@value\":\"Ons katten in den hof\"}]],\"schema:description\":[{\"@language\":\"nl\",\"@value\":\"Katten ravotten in de tuin\"}],\"schema:publisher\":[],\"schema:contributor\":[],\"schema:creator\":[{\"@type\":\"schema:Role\",\"@id\":\"uuid-a47f6018-57df-4d28-a355-f24afe77eb55\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Role\"}],\"schema:roleName\":\"Maker\",\"schema:creator\":{\"@type\":\"schema:Thing\",\"@id\":\"uuid-8606e203-c89d-4340-80d8-f1beaa9d034c\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Dummy privéarchief\"}]}}],\"schema:spatial\":[],\"schema:temporal\":[],\"schema:keywords\":[],\"schema:inLanguage\":[],\"schema:license\":[{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/VIAA-ONDERWIJS\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/VIAA-ONDERZOEK\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/VIAA-INTRA-CP-CONTENT\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/VIAA-INTRA_CP-METADATA-ALL\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/VIAA-PUBLIEK-METADATA-LTD\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/BEZOEKERTOOL-CONTENT\"},{\"@type\":\"skos:Concept\",\"@id\":\"https://data.hetarchief.be/id/license/BEZOEKERTOOL-METADATA-ALL\"}],\"schema:copyrightHolder\":[{\"@type\":\"schema:Thing\",\"@id\":\"uuid-bda4bdaf-c191-40e5-a3e8-cee0974bf5fe\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"© dummyorganisatie\"}]}],\"dct:rights\":[],\"schema:artMedium\":[],\"schema:artform\":[],\"schema:genre\":[],\"schema:creditText\":[],\"schema:isPartOf\":[]},{\"@type\":\"https://data.hetarchief.be/id/event-type/registration\",\"@id\":\"uuid-e435a1eb-fa72-4221-b673-3cc9289d0904\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2021-04-02T09:04:04\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2021-04-02T09:04:04\"},\"prov:wasAssociatedWith\":[],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-682a981f-99c9-463a-b67b-9766f553fecd\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"FelixArchief\"}],\"org:identifier\":\"OR-jw86m54\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\"}],\"evtObjRole:out\":[]},{\"@type\":\"https://data.hetarchief.be/id/event-type/check-out\",\"@id\":\"uuid-54c8c6f6-2981-41fd-bd02-edcb6e5b8871\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2021-12-28T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2021-12-28T00:00:00\"},\"prov:wasAssociatedWith\":[],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-355842da-cbce-46ec-81a3-f0df5e80b138\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\"}],\"evtObjRole:out\":[]},{\"@type\":\"https://data.hetarchief.be/id/event-type/inspection\",\"@id\":\"uuid-02411acf-e14f-49bb-9beb-f675dc2b351e\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-03-25T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-03-25T00:00:00\"},\"prov:wasAssociatedWith\":[{\"@type\":\"schema:Person\",\"@id\":\"uuid-ef2f95b3-529a-4226-af41-f103021d8089\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"David\"}]}],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"premis:outcomeNote\":\"CEX / COLOR / MUTE\",\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-19a1de2f-655f-4d55-b0e3-e9ddaa8fade7\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\"}],\"evtObjRole:out\":[]},{\"@type\":\"https://data.hetarchief.be/id/event-type/digitization\",\"@id\":\"uuid-652dd33d-367b-4a55-8e02-14f3e304d853\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-26T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-26T00:00:00\"},\"prov:wasAssociatedWith\":[{\"@type\":\"schema:Person\",\"@id\":\"uuid-2cbc112a-84e2-4999-8f49-03156509a784\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"David/ScanStation\"}]}],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"premis:outcomeNote\":\"Abrasion marks, scratches, inlaid dust/dirt, important grain, apparent vignetting, slight instability, under/overexposure related to camera capture, slightly overscanned because of image between perfs or changing framing, dirty camera gate on some scenes\",\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-9ddaa11a-35c3-4cf7-92c9-73b73c775c43\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-eb2175c9-56f9-4e7e-9192-0a11a297c1e2\"}],\"evtObjRole:out\":[{\"@id\":\"uuid-93199782-ab90-4ec4-ae43-92eb708a151d\"}]},{\"@type\":\"https://data.hetarchief.be/id/event-type/compression\",\"@id\":\"uuid-ddcd47c0-1967-475d-a3d4-e1d7fcc98729\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-28T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-28T00:00:00\"},\"prov:wasAssociatedWith\":[{\"@type\":\"schema:Person\",\"@id\":\"uuid-6e7385e3-97e7-43ea-b6d5-06ba039c2db6\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"JulienS/RAWcooked 23.09.20241109, FFmpeg 7.1\"}]}],\"premis:note\":\"\\n        RAWcooked 23.09.20241109, FFmpeg 7.1\\n        Parameters used: --all -o Variation_Examples/AIP_VARIATION_3-M_image_0_sound_N_scans/rawcooked/t14th8df5w_001.mkv\\n        Package name: t14th8df5w_001_%06d.dpx\\n        Track 1:\\n        (000001 --> 000025)\\n        DPX/Raw/RGB/8bit/U/LE\\n        Info: Reversibility data created by RAWcooked 23.09.20241109.\\n        Info: Uncompressed file hashes (used by reversibility check) present.\\n        Info: Reversibility was checked, no issue detected.\\n      \",\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-c0174bb3-324a-441a-b783-e8f482dc095f\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-93199782-ab90-4ec4-ae43-92eb708a151d\"}],\"evtObjRole:out\":[{\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\",\"@type\":\"premis:Object\"}]},{\"@type\":\"https://data.hetarchief.be/id/event-type/editing\",\"@id\":\"uuid-de489f24-98d1-4032-b39c-2f36e1cfcc63\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-28T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-04-28T00:00:00\"},\"prov:wasAssociatedWith\":[{\"@type\":\"schema:Person\",\"@id\":\"uuid-b16df46f-69cb-4899-8f64-7bc77808a11e\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"JulienS/Nucoda\"}]}],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"premis:outcomeNote\":\"Abrasion marks, scratches, inlaid dust/dirt, important grain, slight instability, under/overexposure related to camera capture, slight color fading/shift on some scenes. MUTE . Speed 16 fps. MIX COLOR/BW.\",\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-32275dea-ae7a-456f-a9ad-75cb7be023fa\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\"}],\"evtObjRole:out\":[{\"@id\":\"uuid-ed415625-bc4b-4ecc-b220-9c9d4400bde8\",\"@type\":\"premis:Object\"}]},{\"@type\":\"https://data.hetarchief.be/id/event-type/transfer\",\"@id\":\"uuid-019a16cf-9d35-469d-8c14-a8ed1564003d\",\"prov:startedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-05-07T00:00:00\"},\"prov:endedAtTime\":{\"@type\":\"xsd:dateTime\",\"@value\":\"2022-05-07T00:00:00\"},\"prov:wasAssociatedWith\":[],\"premis:outcome\":{\"@id\":\"http://id.loc.gov/vocabulary/preservation/eventOutcome/suc\"},\"evtAgRole:imp\":{\"@type\":\"org:Organization\",\"@id\":\"uuid-85a0e7d6-ffad-4031-98af-a8eef5d85d6b\",\"schema:name\":[{\"@language\":\"nl\",\"@value\":\"Organisatie naam\"}],\"skos:prefLabel\":[{\"@language\":\"nl\",\"@value\":\"Vectracom\"}],\"org:identifier\":\"OR-183420s\"},\"schema:instrument\":[],\"evtObjRole:sou\":[{\"@id\":\"uuid-5defe23d-23b9-4819-a189-bc4793e7e60b\"}],\"evtObjRole:out\":[]}]}"

json_ld_graph = json.loads(graph_string)["@graph"]

deserialized_models = []

for model, model_dict in zip([f], json_ld_graph):
    deserialized = model.__class__.model_validate(model_dict)
    deserialized_models.append(deserialized)
    print(generate_mets_from_sip(deserialized, "dummy_pid"))

    
    



# sippy_object = IntellectualEntity.model_validate(json_ld_graph)

# print(sippy_object)